 /* Palette */
:root{
  --ink:#0C1412;            /* near-black green */
  --forest:#18261F;         /* deep forest */
  --pine:#23372C;           /* dark pane */
  --moss:#2F463A;           /* mid green */
  --sage:#4F6B5B;           /* soft edge */
  --bronze:#8C6B3E;         /* aged metal */
  --gold:#D8BC78;           /* warm gold text */
  --parchment:#E8D39F;      /* light accent */
  --ember:#C8843D;          /* warm accent */
  --glass:rgba(15,28,22,.78);
  --stroke:rgba(216,188,120,.28);
  --glow:rgba(216,188,120,.35);
  --shadow:rgba(6,10,9,.75);
  --cursor-default:
    url('../public/app_pointer_32.png') 0 0,
    url('../public/app_pointer_64.png') 0 0,
    default;
  --cursor-pointer:
    url('../public/app_pointer_32.png') 0 0,
    url('../public/app_pointer_64.png') 0 0,
    pointer;
}

/* Reset */
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Crimson Text', serif;
  color:var(--gold);
  overflow:hidden;height:100vh;
  background:
    radial-gradient(60% 80% at 25% 20%, rgba(47,70,58,.18), transparent 60%),
    radial-gradient(70% 80% at 80% 70%, rgba(140,107,62,.14), transparent 65%),
    var(--ink);
  cursor:var(--cursor-default);
  user-select:none;
  /* Touch action for mobile */
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

input[type="text"],
input[type="search"],
input[type="email"],
input[type="password"],
input[type="number"],
textarea,
.input,
.textarea{
  cursor:text;
}

/* Desktop */
#desktop{position:relative;width:100%;height:100vh;overflow:hidden}

/* Wallpaper */
#wallpaper{
  position:absolute;inset:0;
  background-image:url('../wallpaper.png');
  background-size:cover;background-position:center;
  filter:brightness(.8) contrast(1.02) saturate(.9);
  z-index:-2;
}
#wallpaper::after{
  content:'';position:absolute;inset:0;
  background:
    radial-gradient(circle at 32% 35%, rgba(47,70,58,.45), transparent 65%),
    radial-gradient(circle at 70% 64%, rgba(140,107,62,.30), transparent 58%),
    rgba(12,20,18,.55);
  z-index:1;
}

/* Icons grid */
#desktop-icons{
  position:absolute;top:20px;left:20px;
  width:calc(100% - 40px);height:calc(100% - 120px);
  z-index:1;display:grid;
  grid-template-columns:repeat(auto-fill,100px);
  grid-auto-rows:120px;gap:15px;
}
.desktop-icons-draggable{
  display:block;
}
.desktop-icon{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  width:100px;height:120px;cursor:var(--cursor-pointer);position:relative;
  transition:transform .25s ease, filter .25s ease;
  user-select:none;
  touch-action:none;
}
.desktop-icon:hover{
  transform:translateY(-2px);
}
.desktop-icon.selected{
  transform:scale(1.05);
}
.icon-image{
  width:64px;height:64px;margin-bottom:8px;
  background-size:contain;background-repeat:no-repeat;background-position:center;
  filter:drop-shadow(0 0 10px rgba(216,188,120,.25));
  transition:all .25s ease;
}
.desktop-icon:hover .icon-image{
  filter:drop-shadow(0 0 14px rgba(216,188,120,.5));
  transform:scale(1.1);
}
.icon-label{
  font-family:'Cinzel', serif;font-size:14px;text-align:center;
  color:var(--parchment);
  text-shadow:0 0 6px rgba(5,8,7,.9);
  max-width:90%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
}
.desktop-icon.dragging{
  cursor:grabbing;
  transform:scale(1.05);
}

/* Mobile Responsive Styles */
@media (max-width: 768px) {
  /* Desktop icons responsive grid */
  #desktop-icons{
    grid-template-columns:repeat(auto-fill,80px);
    grid-auto-rows:100px;gap:10px;
    padding:0 10px;
  }
  
  .desktop-icon{
    width:80px;height:100px;
  }
  
  .icon-image{
    width:48px;height:48px;
  }
  
  .icon-label{
    font-size:12px;
  }
  
  /* Taskbar responsive */
  #taskbar{
    height:60px;
    padding:0 5px;
  }
  
  #start-menu{
    width:52px;height:52px;
  }
  
  .start-menu-icon{
    width:42px;height:42px;
  }
  
  .system-tray-icon{
    width:20px;height:20px;
  }
  
  #clock{
    font-size:12px;
  }
  
  /* Start menu responsive */
  #start-menu-panel{
    width:280px;
    bottom:70px;
    left:5px;
  }
  
  .start-menu-apps{
    grid-template-columns:repeat(2,1fr);
  }
}

@media (max-width: 480px) {
  /* Even smaller mobile devices */
  #desktop-icons{
    grid-template-columns:repeat(auto-fill,70px);
    grid-auto-rows:90px;gap:8px;
  }
  
  .desktop-icon{
    width:70px;height:90px;
  }
  
  .icon-image{
    width:40px;height:40px;
  }
  
  .icon-label{
    font-size:10px;
  }
  
  /* Taskbar for very small screens */
  #taskbar{
    height:50px;
  }
  
  #start-menu{
    width:48px;height:48px;
  }
  
  .start-menu-icon{
    width:38px;height:38px;
  }
  
  .system-tray-icon{
    width:18px;height:18px;
  }
  
  #clock{
    font-size:10px;
    min-width:50px;
  }
  
  /* Start menu for very small screens */
  #start-menu-panel{
    width:240px;
  }
}

/* Taskbar */
#taskbar{
  position:fixed;bottom:0;left:0;width:100%;height:52px;
  background:linear-gradient(to bottom, rgba(24,38,31,.95), rgba(12,20,18,.97));
  border-top:2px solid var(--stroke);
  display:flex;justify-content:space-between;align-items:center;padding:0 10px;
  z-index:1000;
  box-shadow:0 -4px 14px var(--shadow), inset 0 1px 0 rgba(232,211,159,.08);
}
#taskbar-left,#taskbar-center,#taskbar-right{display:flex;align-items:center;height:100%}
#taskbar-center{
  flex-grow:1;
  justify-content:flex-start;
  overflow-x:auto;
  padding:0 10px;
  scrollbar-width:none; /* Firefox */
  -ms-overflow-style:none; /* IE and Edge */
}

#taskbar-center::-webkit-scrollbar{
  display:none; /* Chrome, Safari, Opera */
}

/* Start button */
#start-menu{
  width:64px;height:64px;margin-right:6px;cursor:var(--cursor-pointer);
  background:transparent;
  border:none;
  box-shadow:none;
  transition:all .25s ease;
  display:flex;align-items:center;justify-content:center;
  z-index:10;
}
#start-menu:hover{
  transform:scale(1.1);
  filter:drop-shadow(0 0 10px var(--glow));
}
#start-menu:active{
  transform:scale(0.95);
}
.start-menu-icon{
  width:52px;height:52px;
  background-image:url('../public/morrowindows_logo.png');
  background-size:contain;background-repeat:no-repeat;background-position:center;
}

/* Tray icons */
#system-tray{display:flex;align-items:center;margin-right:10px}
.system-tray-icon{
  width:24px;height:24px;margin-left:8px;cursor:var(--cursor-pointer);opacity:.9;
  background-size:contain;background-repeat:no-repeat;background-position:center;
  transition:all .2s ease;
}
.system-tray-icon:hover{opacity:1;filter:drop-shadow(0 0 8px var(--glow))}
#notification-icon{
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23E8D39F'%3E%3Cpath d='M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z'/%3E%3C/svg%3E");
}
#network-icon{
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23E8D39F'%3E%3Cpath d='M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.07 2.93 1 9zm8 8l3 3 3-3c-1.65-1.65-4.35-1.65-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 8.14 8.87 8.14 5 13z'/%3E%3C/svg%3E");
}
#volume-icon{
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23E8D39F'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3C/svg%3E");
}

/* Clock */
#clock{
  font-family:'Cinzel', serif;font-size:14px;color:var(--parchment);
  text-shadow:0 0 5px rgba(5,8,7,.85);
  padding:5px 10px;background-color:var(--glass);
  border-radius:8px;border:1px solid var(--stroke);min-width:60px;text-align:center;
}

/* Context menu */
#context-menu{
  position:fixed;min-width:180px;padding:5px 0;z-index:2000;
  background:linear-gradient(to bottom, rgba(35,55,44,.96), rgba(18,30,24,.94));
  border:1px solid var(--stroke);border-radius:12px;
  box-shadow:0 10px 26px var(--shadow);
}
.context-menu-item{
  padding:8px 15px;font-family:'Crimson Text', serif;font-size:14px;cursor:var(--cursor-pointer);
  color:var(--parchment);transition:all .18s ease;
}
.context-menu-item:hover{
  background:linear-gradient(135deg, rgba(47,70,58,.5), rgba(28,44,36,.55));
}
.context-menu-separator{height:1px;background-color:var(--stroke);margin:5px 10px}

/* Start menu panel */
#start-menu-panel{
  position:fixed;bottom:62px;left:10px;width:320px;max-height:500px;
  background:linear-gradient(to bottom, rgba(28,44,36,.96), rgba(16,26,21,.94));
  border:1px solid var(--stroke);border-radius:16px;
  box-shadow:0 18px 32px var(--shadow), inset 0 1px 0 rgba(232,211,159,.08);
  z-index:1500;display:flex;flex-direction:column;overflow:hidden;
}
.start-menu-header{
  padding:15px;
  background:linear-gradient(to right, rgba(140,107,62,.45), rgba(47,70,58,.5));
  border-bottom:1px solid var(--stroke);
}
.start-menu-title{
  font-family:'Cinzel', serif;font-size:18px;font-weight:600;margin-bottom:5px;
  color:var(--parchment);text-shadow:0 0 10px var(--glow);
}
.start-menu-subtitle{font-size:12px;opacity:.9;color:rgba(232,211,159,.8)}
.start-menu-apps{
  flex-grow:1;padding:10px;display:grid;grid-template-columns:repeat(3,1fr);
  gap:10px;overflow-y:auto;
}
.start-menu-app{
  display:flex;flex-direction:column;align-items:center;padding:10px;border-radius:12px;
  cursor:var(--cursor-pointer);transition:all .25s ease;border:1px solid transparent;
  background:linear-gradient(145deg, rgba(28,44,36,.55), rgba(16,26,21,.6));
}
.start-menu-app:hover{
  background:linear-gradient(145deg, rgba(47,70,58,.55), rgba(28,44,36,.68));
  border-color:rgba(216,188,120,.4);
  box-shadow:0 10px 22px rgba(9,14,12,.5), 0 0 14px var(--glow);
}
.start-menu-app-icon{
  width:32px;height:32px;margin-bottom:5px;background-size:contain;
  background-repeat:no-repeat;background-position:center;
}
.start-menu-app-label{font-size:11px;text-align:center;color:var(--parchment);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.start-menu-footer{
  padding:10px;border-top:1px solid var(--stroke);
  display:flex;justify-content:space-between;background:rgba(16,26,21,.72);
}
.start-menu-footer-item{
  padding:5px 10px;font-size:12px;cursor:var(--cursor-pointer);border-radius:6px;color:var(--parchment);
  transition:all .2s ease;
}
.start-menu-footer-item:hover{
  background:linear-gradient(135deg, rgba(47,70,58,.48), rgba(28,44,36,.6));
}

/* Notification Panel */
#notification-panel{
  position:fixed;bottom:62px;right:10px;width:280px;
  background:linear-gradient(to bottom, rgba(28,44,36,.96), rgba(16,26,21,.94));
  border:1px solid var(--stroke);border-radius:16px;
  box-shadow:0 18px 32px var(--shadow), inset 0 1px 0 rgba(232,211,159,.08);
  z-index:1500;display:flex;flex-direction:column;overflow:hidden;
}
.notification-panel-header{
  padding:15px;
  background:linear-gradient(to right, rgba(140,107,62,.45), rgba(47,70,58,.5));
  border-bottom:1px solid var(--stroke);
}
.notification-panel-title{
  font-family:'Cinzel', serif;font-size:16px;font-weight:600;
  color:var(--parchment);text-shadow:0 0 10px var(--glow);
}
.notification-panel-content{
  padding:10px;
}
.notification-option{
  display:flex;align-items:center;padding:12px;border-radius:12px;
  cursor:var(--cursor-pointer);transition:all .25s ease;border:1px solid transparent;
  background:linear-gradient(145deg, rgba(28,44,36,.55), rgba(16,26,21,.6));
  margin-bottom:8px;
}
.notification-option:hover{
  background:linear-gradient(145deg, rgba(47,70,58,.55), rgba(28,44,36,.68));
  border-color:rgba(216,188,120,.4);
  box-shadow:0 10px 22px rgba(9,14,12,.5), 0 0 14px var(--glow);
}
.notification-option-icon{
  font-size:20px;margin-right:12px;
}
.notification-option-text{
  font-family:'Crimson Text', serif;font-size:14px;color:var(--parchment);
}

/* WiFi Panel */
#wifi-panel{
  position:fixed;bottom:62px;right:10px;width:320px;max-height:500px;
  background:linear-gradient(to bottom, rgba(28,44,36,.96), rgba(16,26,21,.94));
  border:1px solid var(--stroke);border-radius:16px;
  box-shadow:0 18px 32px var(--shadow), inset 0 1px 0 rgba(232,211,159,.08);
  z-index:1500;display:flex;flex-direction:column;overflow:hidden;
}
.wifi-panel-header{
  padding:15px;
  background:linear-gradient(to right, rgba(140,107,62,.45), rgba(47,70,58,.5));
  border-bottom:1px solid var(--stroke);
}
.wifi-panel-title{
  font-family:'Cinzel', serif;font-size:16px;font-weight:600;
  color:var(--parchment);text-shadow:0 0 10px var(--glow);
}
.wifi-panel-content{
  padding:10px;overflow-y:auto;max-height:400px;
}
.wifi-network{
  display:flex;align-items:center;padding:12px;border-radius:12px;
  cursor:var(--cursor-pointer);transition:all .25s ease;border:1px solid transparent;
  background:linear-gradient(145deg, rgba(28,44,36,.55), rgba(16,26,21,.6));
  margin-bottom:8px;
}
.wifi-network:hover{
  background:linear-gradient(145deg, rgba(47,70,58,.55), rgba(28,44,36,.68));
  border-color:rgba(216,188,120,.4);
  box-shadow:0 10px 22px rgba(9,14,12,.5), 0 0 14px var(--glow);
}
.wifi-network.current{
  background:linear-gradient(145deg, rgba(140,107,62,.55), rgba(47,70,58,.68));
  border-color:rgba(216,188,120,.6);
  box-shadow:0 0 18px rgba(90,220,213,.4);
}
.wifi-network-icon{
  font-size:20px;margin-right:12px;width:30px;text-align:center;
}
.wifi-network-info{
  flex-grow:1;
}
.wifi-network-name{
  font-family:'Crimson Text', serif;font-size:14px;font-weight:600;
  color:var(--parchment);margin-bottom:2px;
}
.wifi-network-status{
  font-family:'Crimson Text', serif;font-size:12px;
  color:rgba(232,211,159,.8);
}
.wifi-network-signal{
  font-size:12px;color:rgba(232,211,159,.7);letter-spacing:2px;
}

/* Loading screen */
#loading-screen{
  position:fixed;inset:0;z-index:3000;display:flex;align-items:center;justify-content:center;
  background:
    radial-gradient(circle at 32% 35%, rgba(140,107,62,.35), transparent 58%),
    radial-gradient(circle at 72% 68%, rgba(47,70,58,.38), transparent 62%),
    radial-gradient(circle, #0E1814 0%, #0C1412 70%, #09110E 100%);
  transition:opacity 1s ease;
}
.loading-content{text-align:center;position:relative}
.loading-logo{
  width:120px;height:120px;margin:0 auto 20px;
  background-image:url("../public/morrowindows_logo.png");
  background-size:contain;background-repeat:no-repeat;background-position:center;
  animation:pulse 2.8s infinite ease-in-out;
  filter:drop-shadow(0 0 22px rgba(216,188,120,.35));
}
.loading-text{
  font-family:'Cinzel', serif;font-size:24px;font-weight:600;margin-bottom:10px;
  color:var(--parchment);text-shadow:0 0 14px var(--glow);
}
.loading-subtitle{
  font-size:14px;margin-bottom:20px;opacity:.9;color:rgba(232,211,159,.82);letter-spacing:.5px;
}
.loading-progress{
  width:300px;height:4px;margin:0 auto;border-radius:6px;overflow:hidden;
  background:linear-gradient(to right, rgba(28,44,36,.9), rgba(16,26,21,.92));
  border:1px solid var(--stroke);box-shadow:0 0 12px rgba(216,188,120,.22);
}
.loading-progress-bar{
  height:100%;
  background:linear-gradient(90deg, rgba(216,188,120,.95) 0%, rgba(200,132,61,.85) 100%);
  width:0%;animation:loading 3s ease-in-out forwards;
  box-shadow:0 0 16px rgba(216,188,120,.45);
  border-radius:4px;
  transition:width 0.3s ease;
}

/* Utilities + Animations */
.hidden{display:none!important}
.fade-in{animation:fadeIn .5s ease-in-out}
.fade-out{animation:fadeOut .5s ease-in-out}

@keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.08);opacity:.85}100%{transform:scale(1);opacity:1}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeOut{from{opacity:1}to{opacity:0}}
@keyframes loading{0%{width:0%}100%{width:100%}}
