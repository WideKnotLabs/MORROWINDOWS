<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morrowindows - Fantasy Operating System</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/taskbar-items.css">
    <link rel="stylesheet" href="css/apps.css">
    <link rel="stylesheet" href="css/animations.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Crimson+Text:wght@400;600&family=Cutive+Mono&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="public/favicon_io/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="public/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="public/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="public/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="public/favicon_io/site.webmanifest">
</head>
<body>
    <!-- Desktop Container -->
    <div id="desktop">
        <!-- Wallpaper Background -->
        <div id="wallpaper"></div>
        
        <!-- Desktop Icons Container -->
        <div id="desktop-icons">
            <div class="desktop-icon" data-app="scrolldit">
                <div class="icon-image scrolldit-icon"></div>
                <div class="icon-label">Scrolldit</div>
            </div>
            <div class="desktop-icon" data-app="ouijagpt">
                <div class="icon-image ouijagpt-icon"></div>
                <div class="icon-label">OuijaGPT</div>
            </div>
            <div class="desktop-icon" data-app="timber">
                <div class="icon-image timber-icon"></div>
                <div class="icon-label">Timber</div>
            </div>
            <div class="desktop-icon" data-app="wraiths">
                <div class="icon-image wraiths-icon"></div>
                <div class="icon-label">WraithsApp</div>
            </div>
            <div class="desktop-icon" data-app="abacus">
                <div class="icon-image abacus-icon"></div>
                <div class="icon-label">Abacus</div>
            </div>
            <div class="desktop-icon" data-app="laudify">
                <div class="icon-image laudify-icon"></div>
                <div class="icon-label">Laudify</div>
            </div>
        </div>
        
        <!-- Windows Container -->
        <div id="windows-container"></div>
        
        <!-- Taskbar -->
        <div id="taskbar">
            <div id="taskbar-left">
                <div id="start-menu" class="taskbar-button">
                    <div class="start-menu-icon"></div>
                </div>
                <div id="quick-launch"></div>
            </div>
            <div id="taskbar-center"></div>
            <div id="taskbar-right">
                <div id="system-tray">
                    <div class="system-tray-icon" id="notification-icon"></div>
                    <div class="system-tray-icon" id="network-icon"></div>
                    <div class="system-tray-icon" id="volume-icon"></div>
                </div>
                <div id="clock">00:00</div>
            </div>
        </div>
    </div>
    
    <!-- Context Menu (hidden by default) -->
    <div id="context-menu" class="hidden">
        <div class="context-menu-item" id="refresh-desktop">Refresh Desktop</div>
        <div class="context-menu-item" id="change-wallpaper">Change Wallpaper</div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" id="open-terminal">Open Terminal</div>
        <div class="context-menu-item" id="system-settings">System Settings</div>
    </div>
    
    <!-- Start Menu (hidden by default) -->
    <div id="start-menu-panel" class="hidden">
        <div class="start-menu-header">
            <div class="start-menu-title">Morrowindows</div>
            <div class="start-menu-subtitle">Fantasy Operating System</div>
        </div>
        <div class="start-menu-apps">
            <div class="start-menu-app" data-app="scrolldit">
                <div class="start-menu-app-icon scrolldit-icon"></div>
                <div class="start-menu-app-label">Scrolldit</div>
            </div>
            <div class="start-menu-app" data-app="ouijagpt">
                <div class="start-menu-app-icon ouijagpt-icon"></div>
                <div class="start-menu-app-label">OuijaGPT</div>
            </div>
            <div class="start-menu-app" data-app="timber">
                <div class="start-menu-app-icon timber-icon"></div>
                <div class="start-menu-app-label">Timber</div>
            </div>
            <div class="start-menu-app" data-app="wraiths">
                <div class="start-menu-app-icon wraiths-icon"></div>
                <div class="start-menu-app-label">WraithsApp</div>
            </div>
            <div class="start-menu-app" data-app="abacus">
                <div class="start-menu-app-icon abacus-icon"></div>
                <div class="start-menu-app-label">Abacus</div>
            </div>
            <div class="start-menu-app" data-app="laudify">
                <div class="start-menu-app-icon laudify-icon"></div>
                <div class="start-menu-app-label">Laudify</div>
            </div>
        </div>
        <div class="start-menu-footer">
            <div class="start-menu-footer-item" id="system-settings-btn">System Settings</div>
            <div class="start-menu-footer-item" id="shutdown-btn">Shut Down</div>
        </div>
    </div>
    
    <!-- Notification Panel (hidden by default) -->
    <div id="notification-panel" class="hidden">
        <div class="notification-panel-header">
            <div class="notification-panel-title">Notifications</div>
        </div>
        <div class="notification-panel-content">
            <div class="notification-option" id="notifications-active">
                <div class="notification-option-icon">üîî</div>
                <div class="notification-option-text">Notifications active</div>
            </div>
            <div class="notification-option" id="notifications-disabled">
                <div class="notification-option-icon">üîï</div>
                <div class="notification-option-text">Notifications shall not pass</div>
            </div>
        </div>
    </div>
    
    <!-- WiFi Panel (hidden by default) -->
    <div id="wifi-panel" class="hidden">
        <div class="wifi-panel-header">
            <div class="wifi-panel-title">Network Connections</div>
        </div>
        <div class="wifi-panel-content">
            <div class="wifi-network current" data-ssid="Brawl Tavern">
                <div class="wifi-network-icon">üîó</div>
                <div class="wifi-network-info">
                    <div class="wifi-network-name">Brawl Tavern</div>
                    <div class="wifi-network-status">Connected</div>
                </div>
                <div class="wifi-network-signal">‚óè‚óè‚óè‚óè‚óè</div>
            </div>
            <div class="wifi-network" data-ssid="Misty Mountains">
                <div class="wifi-network-icon">üå´</div>
                <div class="wifi-network-info">
                    <div class="wifi-network-name">Misty Mountains</div>
                    <div class="wifi-network-status">Available</div>
                </div>
                <div class="wifi-network-signal">‚óè‚óè‚óè</div>
            </div>
            <div class="wifi-network" data-ssid="Dragon's Lair">
                <div class="wifi-network-icon">üêâ</div>
                <div class="wifi-network-info">
                    <div class="wifi-network-name">Dragon's Lair</div>
                    <div class="wifi-network-status">Secured</div>
                </div>
                <div class="wifi-network-signal">‚óè‚óè‚óè‚óè</div>
            </div>
            <div class="wifi-network" data-ssid="Elven Woods">
                <div class="wifi-network-icon">üßù</div>
                <div class="wifi-network-info">
                    <div class="wifi-network-name">Elven Woods</div>
                    <div class="wifi-network-status">Available</div>
                </div>
                <div class="wifi-network-signal">‚óè‚óè</div>
            </div>
            <div class="wifi-network" data-ssid="D&D Portal">
                <div class="wifi-network-icon">üé≤</div>
                <div class="wifi-network-info">
                    <div class="wifi-network-name">D&D Portal</div>
                    <div class="wifi-network-status">Secured</div>
                </div>
                <div class="wifi-network-signal">‚óè‚óè‚óè‚óè</div>
            </div>
            <div class="wifi-network" data-ssid="Hobbit's Hole">
                <div class="wifi-network-icon">üèö</div>
                <div class="wifi-network-info">
                    <div class="wifi-network-name">Hobbit's Hole</div>
                    <div class="wifi-network-status">Available</div>
                </div>
                <div class="wifi-network-signal">‚óè</div>
            </div>
        </div>
    </div>
    
    <!-- System Settings Window (hidden by default) -->
    <div id="system-settings-window" class="hidden">
        <div class="window">
            <div class="window-header">
                <div class="window-header-left">
                    <div class="window-logo settings-icon"></div>
                    <div class="window-title">System Settings</div>
                </div>
                <div class="window-controls">
                    <div class="window-control minimize" data-action="minimize"></div>
                    <div class="window-control maximize" data-action="maximize"></div>
                    <div class="window-control close" data-action="close"></div>
                </div>
            </div>
            <div class="window-content">
                <div class="tabs">
                    <div class="tab active" data-tab="api-keys">API Keys</div>
                    <div class="tab" data-tab="voice-ids">Voice IDs</div>
                </div>
                
                <!-- API Keys Tab -->
                <div class="tab-content active" id="api-keys-tab">
                    <div class="card">
                        <div class="card-header">OpenAI API Key</div>
                        <div class="card-content">
                            <p class="mb-10">Enter your OpenAI API key to enable AI-powered features in OuijaGPT and Scrolldit.</p>
                            <div class="api-security-warning">
                                <p><strong>Security Notice:</strong> Your API key is stored only in your browser's session storage and is never sent to any server other than OpenAI's API.</p>
                            </div>
                            <div class="mt-20">
                                <label for="openai-api-key" class="block mb-5">API Key:</label>
                                <input type="password" id="openai-api-key" class="input w-full" placeholder="sk-...">
                                <div class="mt-10">
                                    <button id="save-openai-key" class="btn btn-primary">Save Key</button>
                                    <button id="test-openai-key" class="btn ml-10">Test Connection</button>
                                </div>
                                <div id="openai-status" class="mt-10"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Voice IDs Tab -->
                <div class="tab-content" id="voice-ids-tab">
                    <div class="card">
                        <div class="card-header">ElevenLabs Voice Configuration</div>
                        <div class="card-content">
                            <p class="mb-10">Configure voice IDs for the WraithsApp text-to-speech functionality.</p>
                            <div class="api-security-warning">
                                <p><strong>Security Notice:</strong> Your API key is stored only in your browser's session storage and is never sent to any server other than ElevenLabs' API.</p>
                            </div>
                            <div class="mt-20">
                                <label for="elevenlabs-api-key" class="block mb-5">ElevenLabs API Key:</label>
                                <input type="password" id="elevenlabs-api-key" class="input w-full" placeholder="Your ElevenLabs API key">
                                <div class="mt-10">
                                    <button id="save-elevenlabs-key" class="btn btn-primary">Save Key</button>
                                    <button id="test-elevenlabs-key" class="btn ml-10">Test Connection</button>
                                </div>
                                <div id="elevenlabs-status" class="mt-10"></div>
                            </div>
                            
                            <div class="mt-20">
                                <h3 class="mb-10">Custom Voice IDs</h3>
                                <p class="mb-10">Add custom ElevenLabs voice IDs to use in WraithsApp. Enter one voice ID per line.</p>
                                <textarea id="custom-voice-ids" class="textarea w-full" rows="6" placeholder="Enter voice IDs, one per line..."></textarea>
                                <div class="mt-10">
                                    <button id="save-voice-ids" class="btn btn-primary">Save Voice IDs</button>
                                    <button id="test-voice" class="btn ml-10">Test Random Voice</button>
                                </div>
                                <div id="voice-status" class="mt-10"></div>
                            </div>
                            
                            <div class="mt-20">
                                <h3 class="mb-10">Available Default Voices</h3>
                                <div class="list" id="default-voices-list">
                                    <!-- Default voices will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Loading Screen (shown initially) -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-logo"></div>
            <div class="loading-text">Morrowindows</div>
            <div class="loading-subtitle">Consulting the ancient spirits...</div>
            <div class="loading-progress">
                <div class="loading-progress-bar"></div>
            </div>
        </div>
    </div>
    
    <script src="js/main.js"></script>
    <script src="js/window-manager.js"></script>
    <script src="js/taskbar.js"></script>
    <script src="js/services/world-context-service.js"></script>
    <script src="js/services/openai-service.js"></script>
    <script src="js/services/elevenlabs-service.js"></script>
    <script src="js/apps/scrolldit.js"></script>
    <script src="js/apps/ouijagpt.js"></script>
    <script src="js/apps/timber.js"></script>
    <script src="js/apps/wraiths.js"></script>
    <script src="js/apps/abacus.js"></script>
    <script src="js/apps/laudify.js"></script>
    <script src="js/apps/system-settings.js"></script>
</body>
</html>